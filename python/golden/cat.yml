in_source: |-
  input
  loop:
      jnz break,r7
      print
      input
      jmp loop
  break:
      halt
in_stdin: |-
  Fifty two!
out_code: |-
    [{"index": 0, "opcode": "input", "term": [1, 0, "input"]},
     {"index": 1, "opcode": "jnz", "arg": [5, "r7"], "term": [3, 0, "jnz break,r7"]},
     {"index": 2, "opcode": "print", "term": [4, 0, "print"]},
     {"index": 3, "opcode": "input", "term": [5, 0, "input"]},
     {"index": 4, "opcode": "jmp", "arg": 1, "term": [6, 0, "jmp loop"]},
     {"index": 5, "opcode": "halt", "term": [8, 0, "halt"]}]
out_stdout: |
  source LoC: 8 code instr: 6
  ============================================================
  Fifty two!
  instr_counter:  42 ticks: 52
out_log: |
  DEBUG   machine:simulation    TICK:   0 PC:   0 ADDR:   0 MEM_OUT: 0 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@1:0)
  DEBUG   machine:signal_wr     input: 'F'
  DEBUG   machine:simulation    TICK:   1 PC:   1 ADDR:   0 MEM_OUT: 70 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:   1 PC:   1 ADDR:   0 MEM_OUT: 70 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:   2 PC:   2 ADDR:   0 MEM_OUT: 70 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:   3 PC:   2 ADDR:   0 MEM_OUT: 70 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: '' << 'F'
  DEBUG   machine:simulation    TICK:   4 PC:   3 ADDR:   0 MEM_OUT: 70 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: 'i'
  DEBUG   machine:simulation    TICK:   5 PC:   4 ADDR:   0 MEM_OUT: 105 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:   6 PC:   1 ADDR:   0 MEM_OUT: 105 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:   6 PC:   1 ADDR:   0 MEM_OUT: 105 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:   7 PC:   2 ADDR:   0 MEM_OUT: 105 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:   8 PC:   2 ADDR:   0 MEM_OUT: 105 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'F' << 'i'
  DEBUG   machine:simulation    TICK:   9 PC:   3 ADDR:   0 MEM_OUT: 105 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: 'f'
  DEBUG   machine:simulation    TICK:  10 PC:   4 ADDR:   0 MEM_OUT: 102 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  11 PC:   1 ADDR:   0 MEM_OUT: 102 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  11 PC:   1 ADDR:   0 MEM_OUT: 102 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  12 PC:   2 ADDR:   0 MEM_OUT: 102 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  13 PC:   2 ADDR:   0 MEM_OUT: 102 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fi' << 'f'
  DEBUG   machine:simulation    TICK:  14 PC:   3 ADDR:   0 MEM_OUT: 102 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: 't'
  DEBUG   machine:simulation    TICK:  15 PC:   4 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  16 PC:   1 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  16 PC:   1 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  17 PC:   2 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  18 PC:   2 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fif' << 't'
  DEBUG   machine:simulation    TICK:  19 PC:   3 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: 'y'
  DEBUG   machine:simulation    TICK:  20 PC:   4 ADDR:   0 MEM_OUT: 121 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  21 PC:   1 ADDR:   0 MEM_OUT: 121 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  21 PC:   1 ADDR:   0 MEM_OUT: 121 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  22 PC:   2 ADDR:   0 MEM_OUT: 121 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  23 PC:   2 ADDR:   0 MEM_OUT: 121 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fift' << 'y'
  DEBUG   machine:simulation    TICK:  24 PC:   3 ADDR:   0 MEM_OUT: 121 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: ' '
  DEBUG   machine:simulation    TICK:  25 PC:   4 ADDR:   0 MEM_OUT: 32 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  26 PC:   1 ADDR:   0 MEM_OUT: 32 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  26 PC:   1 ADDR:   0 MEM_OUT: 32 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  27 PC:   2 ADDR:   0 MEM_OUT: 32 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  28 PC:   2 ADDR:   0 MEM_OUT: 32 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fifty' << ' '
  DEBUG   machine:simulation    TICK:  29 PC:   3 ADDR:   0 MEM_OUT: 32 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: 't'
  DEBUG   machine:simulation    TICK:  30 PC:   4 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  31 PC:   1 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  31 PC:   1 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  32 PC:   2 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  33 PC:   2 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fifty ' << 't'
  DEBUG   machine:simulation    TICK:  34 PC:   3 ADDR:   0 MEM_OUT: 116 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: 'w'
  DEBUG   machine:simulation    TICK:  35 PC:   4 ADDR:   0 MEM_OUT: 119 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  36 PC:   1 ADDR:   0 MEM_OUT: 119 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  36 PC:   1 ADDR:   0 MEM_OUT: 119 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  37 PC:   2 ADDR:   0 MEM_OUT: 119 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  38 PC:   2 ADDR:   0 MEM_OUT: 119 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fifty t' << 'w'
  DEBUG   machine:simulation    TICK:  39 PC:   3 ADDR:   0 MEM_OUT: 119 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: 'o'
  DEBUG   machine:simulation    TICK:  40 PC:   4 ADDR:   0 MEM_OUT: 111 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  41 PC:   1 ADDR:   0 MEM_OUT: 111 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  41 PC:   1 ADDR:   0 MEM_OUT: 111 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  42 PC:   2 ADDR:   0 MEM_OUT: 111 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  43 PC:   2 ADDR:   0 MEM_OUT: 111 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fifty tw' << 'o'
  DEBUG   machine:simulation    TICK:  44 PC:   3 ADDR:   0 MEM_OUT: 111 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  DEBUG   machine:signal_wr     input: '!'
  DEBUG   machine:simulation    TICK:  45 PC:   4 ADDR:   0 MEM_OUT: 33 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jmp 1  ('jmp loop'@6:0)
  DEBUG   machine:simulation    TICK:  46 PC:   1 ADDR:   0 MEM_OUT: 33 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  46 PC:   1 ADDR:   0 MEM_OUT: 33 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	jz [5, 'ir']  ('jz break,ir'@3:0)
  DEBUG   machine:simulation    TICK:  47 PC:   2 ADDR:   0 MEM_OUT: 33 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:simulation    TICK:  48 PC:   2 ADDR:   0 MEM_OUT: 33 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	print  ('print'@4:0)
  DEBUG   machine:signal_output output: 'Fifty two' << '!'
  DEBUG   machine:simulation    TICK:  49 PC:   3 ADDR:   0 MEM_OUT: 33 rs: 0 rc: 0 r1: 0 r2: 0 r3: 0 	input  ('input'@5:0)
  WARNING machine:simulation    Input buffer is empty!
  INFO    machine:simulation    output_buffer: 'Fifty two!'
